# Babelfish Looking Glass Server Configuration
# =============================================
# Copy this file to .env and update with your actual values

# Server Configuration
# ===================
PORT=3000
HOST=0.0.0.0
NODE_ENV=development
CORS_ORIGIN=*
KILL_PORT=true

# UniFi Protect Configuration
# ==========================
UNIFI_HOST=10.0.0.1
UNIFI_PORT=443
UNIFI_PROTOCOL=https
UNIFI_API_KEY=wye3aapIuxAz2omKg4WFdCSncRBfSzPx
UNIFI_USERNAME=
UNIFI_PASSWORD=
UNIFI_VERIFY_SSL=true
UNIFI_TIMEOUT=10000

# MQTT Configuration
# =================
MQTT_ENABLED=false
MQTT_BROKER_HOST=localhost
MQTT_BROKER_PORT=1883
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_CLIENT_ID=babelfish-lookingglass

# Logging Configuration
# ====================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=logs/babelfish.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# API Configuration
# ================
API_TIMEOUT=30000
API_RETRIES=3

# Event Processing Configuration
# =============================
EVENT_BATCH_SIZE=100
EVENT_PROCESSING_INTERVAL=5000
EVENT_RETENTION_DAYS=30
REAL_TIME_UPDATES=true

# Cache Configuration
# ==================
CACHE_ENABLED=true
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# Database Configuration
# =====================
DB_ENABLED=true
DB_TYPE=sqlite
DB_HOST=
DB_PORT=
DB_NAME=babelfish
DB_USERNAME=
DB_PASSWORD=

# Configuration Management
# =======================
CONFIG_AUTO_SAVE=true
CONFIG_VALIDATION=true
CONFIG_BACKUP_ENABLED=true

# Setup Wizard
# ===========
SETUP_WIZARD_ENABLED=true
SETUP_AUTO_DISCOVERY=true
SETUP_DEFAULT_RULES=true

# Entity Management
# ================
ENTITIES_ENABLED=true
ENTITY_AUTO_DISCOVERY_ENABLED=true
ENTITY_DISCOVERY_REFRESH_INTERVAL=300000
ENTITY_STORAGE_TYPE=memory
ENTITY_STORAGE_MAX_ENTITIES=1000

# Analytics Configuration
# ======================
ANALYTICS_ENABLED=true
ANALYTICS_ENGINE_ENABLED=true
ANALYTICS_MAX_EVENTS=10000
ANALYTICS_MAX_PLATES=1000

# Speed Calculation
SPEED_CALCULATION_ENABLED=true
SPEED_MIN_TIME=1000
SPEED_MAX_TIME=300000

# People Counting
PEOPLE_COUNTING_ENABLED=true
OCCUPANCY_HISTORY_MAX=1000

# Plate Recognition
PLATE_RECOGNITION_ENABLED=true
PLATE_CONFIDENCE_THRESHOLD=0.8
PLATE_MAX_TRACKING_TIME=3600000

# Dashboard Configuration
# ======================
DASHBOARD_ENABLED=true
DASHBOARD_REFRESH_INTERVAL=5000
DASHBOARD_MAX_EVENTS=100
DASHBOARD_MAX_ALERTS=50
DASHBOARD_RETENTION_HOURS=24
DASHBOARD_REALTIME_ENABLED=true
DASHBOARD_MAX_SUBSCRIBERS=100

# Speed Alerts
SPEED_ALERTS_ENABLED=true
SPEED_ALERT_THRESHOLD=100
SPEED_ALERT_HIGH=120
SPEED_ALERT_MEDIUM=100

# Flow System Configuration
# ========================
FLOW_ENABLED=true
EVENT_BUS_MAX_EVENTS=1000
EVENT_BUS_PROCESSING_INTERVAL=100
RULE_ENGINE_MAX_RULES=100
RULE_EXECUTION_TIMEOUT=30000
ACTION_FRAMEWORK_MAX_ACTIONS=50
ACTION_EXECUTION_TIMEOUT=10000
ORCHESTRATOR_MAX_FLOWS=50
FLOW_EXECUTION_TIMEOUT=60000

# Zone Management Configuration
# ============================
ZONE_MANAGER_ENABLED=true
ZONE_MANAGER_MAX_ZONES=100
ZONE_MANAGER_MAX_CAMERAS=50
ZONE_ANALYTICS_RETENTION=1000

# WebSocket Configuration
# ======================
WEBSOCKET_ENABLED=true
WEBSOCKET_PING_INTERVAL=25000
WEBSOCKET_PING_TIMEOUT=5000
WEBSOCKET_MAX_PAYLOAD=16777216

# External Service API Keys
# ========================
# OpenAI API Key (for LLM connector)
OPENAI_API_KEY=your-openai-api-key-here

# Telegram Bot Configuration
# =========================
TELEGRAM_BOT_TOKEN=your-telegram-bot-token-here
TELEGRAM_TEST_CHAT_ID=@fhNYM0MnPJQ2NjE8

# Security Configuration
# =====================
# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# SSL/TLS Configuration
# ====================
SSL_ENABLED=false
SSL_KEY_FILE=
SSL_CERT_FILE=

# Development Configuration
# ========================
# Enable debug mode
DEBUG=false
DEBUG_LEVEL=info

# Test Configuration
# =================
TEST_MODE=false
TEST_DATABASE=test_babelfish.db

# Backup Configuration
# ===================
BACKUP_ENABLED=true
BACKUP_INTERVAL=86400
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=./backups

# Monitoring Configuration
# =======================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
METRICS_ENABLED=true
METRICS_PORT=9090

# Performance Configuration
# ========================
MAX_CONCURRENT_CONNECTIONS=100
CONNECTION_TIMEOUT=30000
REQUEST_TIMEOUT=30000
RESPONSE_TIMEOUT=30000

# File Upload Configuration
# ========================
MAX_FILE_SIZE=16777216
UPLOAD_PATH=./uploads
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,video/mp4,video/avi

# Session Configuration
# ====================
SESSION_SECRET=your-session-secret-here
SESSION_TIMEOUT=3600000
SESSION_STORE=memory

# Email Configuration (for notifications)
# =====================================
EMAIL_ENABLED=false
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USERNAME=
EMAIL_PASSWORD=
EMAIL_FROM=noreply@babelfish.local

# SMS Configuration (for notifications)
# ===================================
SMS_ENABLED=false
SMS_PROVIDER=twilio
SMS_ACCOUNT_SID=
SMS_AUTH_TOKEN=
SMS_FROM_NUMBER=

# Integration Configuration
# ========================
# Webhook endpoints
WEBHOOK_ENABLED=false
WEBHOOK_URL=
WEBHOOK_SECRET=

# External API endpoints
EXTERNAL_API_BASE_URL=
EXTERNAL_API_KEY=

# Custom Configuration
# ===================
# Add any custom environment variables below
CUSTOM_FEATURE_ENABLED=false
CUSTOM_API_KEY= 