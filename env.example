# Babelfish Looking Glass Server Configuration

# Server Configuration
PORT=3000
HOST=0.0.0.0
NODE_ENV=development
KILL_PORT=true
CORS_ORIGIN=*

# Unifi Protect Configuration
UNIFI_HOST=10.0.0.1
UNIFI_PORT=443
UNIFI_PROTOCOL=https
UNIFI_API_KEY=your_api_key_here
UNIFI_USERNAME=your_username
UNIFI_PASSWORD=your_password
UNIFI_VERIFY_SSL=true
UNIFI_TIMEOUT=10000

# MQTT Configuration (for future broker functionality)
MQTT_ENABLED=false
MQTT_BROKER_HOST=localhost
MQTT_BROKER_PORT=1883
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_CLIENT_ID=babelfish-lookingglass

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=logs/babelfish.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# API Configuration
API_TIMEOUT=30000
API_RETRIES=3

# Event Processing Configuration
EVENT_BATCH_SIZE=100
EVENT_PROCESSING_INTERVAL=5000
EVENT_RETENTION_DAYS=30
REAL_TIME_UPDATES=true

# Cache Configuration
CACHE_ENABLED=true
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# Database Configuration
DB_ENABLED=true
DB_TYPE=sqlite
DB_HOST=
DB_PORT=
DB_NAME=babelfish
DB_USERNAME=
DB_PASSWORD=

# Configuration Management
CONFIG_AUTO_SAVE=true
CONFIG_VALIDATION=true
CONFIG_BACKUP_ENABLED=true

# Setup Wizard
SETUP_WIZARD_ENABLED=true
SETUP_AUTO_DISCOVERY=true
SETUP_DEFAULT_RULES=true

# Entity Management
ENTITIES_ENABLED=true
ENTITY_AUTO_DISCOVERY_ENABLED=true
ENTITY_DISCOVERY_REFRESH_INTERVAL=300000
ENTITY_STORAGE_TYPE=memory
ENTITY_STORAGE_MAX_ENTITIES=1000

# Analytics Configuration
ANALYTICS_ENABLED=true
ANALYTICS_MAX_EVENTS=10000
ANALYTICS_MAX_PLATES=1000
SPEED_CALCULATION_ENABLED=true
SPEED_MIN_TIME=1000
SPEED_MAX_TIME=300000
PEOPLE_COUNTING_ENABLED=true
OCCUPANCY_HISTORY_MAX=1000
PLATE_RECOGNITION_ENABLED=true
PLATE_CONFIDENCE_THRESHOLD=0.8
PLATE_MAX_TRACKING_TIME=3600000

# Dashboard Configuration
DASHBOARD_ENABLED=true
DASHBOARD_REFRESH_INTERVAL=5000
DASHBOARD_MAX_EVENTS=100
DASHBOARD_MAX_ALERTS=50
DASHBOARD_RETENTION_HOURS=24
DASHBOARD_REALTIME_ENABLED=true
DASHBOARD_MAX_SUBSCRIBERS=100
SPEED_ALERTS_ENABLED=true
SPEED_ALERT_THRESHOLD=100
SPEED_ALERT_COOLDOWN=5

# Flow System Configuration
FLOW_ENABLED=true
EVENT_BUS_MAX_EVENTS=1000
EVENT_BUS_PROCESSING_INTERVAL=100
RULE_ENGINE_MAX_RULES=100
RULE_EXECUTION_TIMEOUT=30000
ACTION_FRAMEWORK_MAX_ACTIONS=50
ACTION_EXECUTION_TIMEOUT=10000
ORCHESTRATOR_MAX_FLOWS=50
FLOW_EXECUTION_TIMEOUT=60000

# Zone Management Configuration
ZONE_MANAGER_ENABLED=true
ZONE_MANAGER_MAX_ZONES=100
ZONE_MANAGER_MAX_CAMERAS=50
ZONE_ANALYTICS_RETENTION=1000

# WebSocket Configuration
WEBSOCKET_ENABLED=true
WEBSOCKET_PING_INTERVAL=25000
WEBSOCKET_PING_TIMEOUT=5000
WEBSOCKET_MAX_PAYLOAD=16777216

# Health Monitoring Configuration
HEALTH_MONITORING_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
HEALTH_MEMORY_THRESHOLD=0.8
HEALTH_CPU_THRESHOLD=0.7
HEALTH_DISK_THRESHOLD=0.9
HEALTH_CONNECTION_THRESHOLD=1000
HEALTH_ERROR_THRESHOLD=100
HEALTH_ALERT_RETENTION=10

# Security Configuration
RATE_LIMIT_MAX=100
STRICT_RATE_LIMIT_MAX=10
HELMET_ENABLED=true
ALLOWED_ORIGINS=*
API_KEYS=
REQUEST_VALIDATION_ENABLED=true
REQUEST_VALIDATION_STRICT=false

# Speed Calculation System
SPEED_MIN_THRESHOLD=5
SPEED_MAX_THRESHOLD=200
SPEED_CONFIDENCE_THRESHOLD=0.8
SPEED_RETENTION_HOURS=24
SPEED_ALERT_HIGH=120
SPEED_ALERT_MEDIUM=100
SPEED_REALTIME_UPDATES=true
SPEED_WEBGUI_INTEGRATION=true

# Database Configuration
DATABASE_PATH=data/babelfish.db
DATABASE_MAX_CONNECTIONS=10
DATABASE_CONNECTION_TIMEOUT=30000
DATABASE_QUERY_TIMEOUT=10000
DATABASE_ENABLE_WAL=true
DATABASE_ENABLE_FOREIGN_KEYS=true
DATABASE_JOURNAL_MODE=WAL
DATABASE_SYNCHRONOUS=NORMAL
DATABASE_CACHE_SIZE=10000
DATABASE_TEMP_STORE=MEMORY 